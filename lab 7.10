#include <iostream>
#include <math.h>

using namespace std;

int** acc_system(int x, int system, int y) {
	int **arr = new int*[x];
	for (int i = 0; i < x; i++)
	{
		arr[i] = new int[y];
		for (int j = y - 1; j >= 0; j--) {
			arr[i][j] = rand() % system;
		}
	}
	return arr;
}

int main() {
	int m, q, n;
	cout << "enter the amount of the natural numbers: ";
	cin >> m;
	tryagain:
		cout << endl;
		cout << "enter the account system: ";
		cin >> q;
		if (q > 10) {
			cout << "error";
			goto tryagain;
		}
		else
			cout << "the amount of cifrus in number: ";
			cin >> n;
			int** a = acc_system(m, q, n);
			cout << endl << endl;
			for (int i = 0; i < m; i++)
			{
				for (int j = 0; j < n; j++)
					cout << a[i][j];
				cout << endl;
			}

			int* result = new int[2 * n];
			for (int i = 0; i < 2 * n; i++) {
				result[i] = 0;
			}
		
			for (int i = 0; i < m; i++) {
				for (int j = 0; j < n; j++)
					result[j] += a[i][j];
			}
			cout << "\nresult\n";
			int shit_n = 0;
			for (int i = 0; i < 2 * n; i++) {
				result[i] += shit_n;
				shit_n = result[i] / q;
				result[i] = result[i] % q;
			}
			for (int i = 0; i < 2 * n; i++) {
				cout << result[i];
			}
			for (int i = 0; i < m; i++)
				delete[] a[i];
			delete[] a;
}
